<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Using the Powerful Spread Operator</title>
</head>

<body>
    <button onclick="stringToArray();">String to Array</button>
    <script>
        function stringToArray() {
            let productNumber = "FR-R92B-58";

            // Spread Operator converts each character into an array
            let values = [...productNumber];

            console.log(values);
        }
    </script>

    <button onclick="copyArray();">Copy Array</button>
    <script>
        function copyArray() {
            let arr = [1, 2, 3];
            // Automatically spreads those elements above into the new array
            let arr2 = [...arr];
            // We normally use the slice metod to copy an array
            let arr3 = arr.slice(0);

            // Make changes to duplicated array
            arr2.push(4);
            arr2[0] = 99;

            console.log(arr);
            console.log(arr2);
            console.log(arr3);
        }
    </script>

    <h3>NOT: IE and Edge do not support the Spread Operator</h3>
    <button onclick="copyObjectArray();">Copy Object Array</button>
    <script>

        let _products = [ // array of objects
            {
                "productID": 680,
                "name": "HL Road Frame - Black, 58",
                "productNumber": "FR-R92B-58",
                "color": "Black",
                "standardCost": 1059.31,
                "listPrice": 1431.50
            },
            {
                "productID": 707,
                "name": "Sports-100 Helmet, Red",
                "productNumber": "HL-U509-R",
                "color": "Red",
                "standardCost": 13.08,
                "listPrice": 34.99
            },
           {
                "productID": 709,
                "name": "Mountain Bike Socks, M",
                "productNumber": "SO-B909-M",
                "color": "White",
                "standardCost": 3.3963,
                "listPrice": 9.50
            }
        ];

        function copyObjectArray() {
            // Careful with object arrays
            // The arrays is copied, but the underlying objects are still accessed
            let diff = [..._products];
            // It's just copying the pointer to where that object is in memory
            // We are changing the original value because their objects, and objects are not copied by value

            // Modify a property of the new array
            diff[0].productID = 999;

            console.log(_products[0].productID);
            console.log(diff[0].productID);
        }
    </script>

    <button onclick="concatenateArray();">Concatenate Array</button>
    <script>
        let _products2 = [ // array of objects
            {
                "productID": 680,
                "name": "HL Road Frame - Black, 58",
                "productNumber": "FR-R92B-58",
                "color": "Black",
                "standardCost": 1059.31,
                "listPrice": 1431.50
            },
            {
                "productID": 707,
                "name": "Sports-100 Helmet, Red",
                "productNumber": "HL-U509-R",
                "color": "Red",
                "standardCost": 13.08,
                "listPrice": 34.99
            },
           {
                "productID": 709,
                "name": "Mountain Bike Socks, M",
                "productNumber": "SO-B909-M",
                "color": "White",
                "standardCost": 3.3963,
                "listPrice": 9.50
            }
        ];

        let _newProducts = [
            {
                "productID": 712,
                "name": "AWC Logo Cap",
                "productNumber": "CA-1098",
                "color": "Multi",
                "standardCost": 6.9223,
                "listPrice": 8.99
            },
            {
                "productID": 821,
                "name": "Touring Front Wheel",
                "productNumber": "FW-T905",
                "color": "Black",
                "standardCost": 96.7964,
                "listPrice": 218.01
            }
        ];

        // Concatentation
        function concatenateArray() {
            // Original way to do in JS
            let allProducts = _products2.concat(_newProducts)
            console.log(allProducts.length);

            let spProducts = [..._products2, ..._newProducts];
            console.log(spProducts.length);
        }
    </script>

    <button onclick="spreadInConstructores();">Spread In Constructores</button>
    <script>
        function spreadInConstructores() {
            let dt = new Date(2021, 05, 16); // 16 May 2021
            console.log(dt);

            let dateFields = [2021, 05, 17]; // 17 May 2021
            dt = new Date(...dateFields);
            console.log(dt);
        }
    </script>

    <button onclick="spreadForFunctionArgs();">Spread For Function Args</button>
    <script>
        function spreadForFunctionArgs() {
            multipleParams(1, 2, 3);

            // The same like previous array
            let args = [1, 2, 3];
            multipleParams(...args);
        }

        function multipleParams(arg1, arg2, arg3) {
            console.log(arg1);
            console.log(arg2);
            console.log(arg3);
            console.log(" ");
        }
    </script>
</body>