<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Utilizing JavaScript Exception Handling</title>
</head>

<body>  
    <button onclick="simpleTryCatch();">Simple Try Catch</button>
    <script>
        function simpleTryCatch() {
            let result;

            try {
                result = x / 10;
            } catch (error) {
                // A JS Error object always has 'name' and 'message' properties, and passes it into the catch block
                console.log(error.message);
            }
        }
    </script>

    <button onclick="finallyCatchSample();">Finally Catch Sample</button>
    <script>
        function finallyCatchSample() {
            let result;

            try {
                console.log("An error will occur.");
                result = x / 10;
                console.log("This line will never run.");// once there is an error in previous line
            } catch (error) {
                console.log("In the 'Catch' block: " + error.message);
            }
            finally {
                console.log("In the 'finally' block");// always will run if there is an error
            }
        }
    </script> 
    
    <button onclick="finallySuccessSample();">Finally Success Sample</button>
    <script>
        function finallySuccessSample() {
            let result;
            let x = 100;

            try {
                console.log("An error won't occur.");
                result = x / 10;
            } catch (error) {
                console.log("In the 'Catch' block: " + error.message);
            }
            finally {
                console.log("In the 'finally' block");// always will run if there is an error
            }
        }
    </script>  

    <button onclick="throwError();">Throw Error</button>
    <script>
        function throwError() {
            try {
                attemptDivision();
            } catch (error) {
                console.log(error.message + " - Error Type: " + error.name);
            }
        }

        function attemptDivision() {
                let result;
                try {
                    result = x / 10;
                } catch (error) {
                    // Always include at least a 'message' and 'name' properties
                throw {
                    "message": "In the attemptDivision() method the following error occured: " + error.message,
                    "name": "CustomError"
                };
            }
        }
    </script>  

    <button onclick="referenceError();">Reference Error</button>
    <button onclick="rangeErrorSample();">Range Error Sample</button>
    <button onclick="typeErrorSample();">Type Error Sample</button>
    <button onclick="uriErrorSample();">URI Error Sample</button>
    <button onclick="syntaxErrorSample();">Syntax Error Sample</button>
    <script>
        function referenceError() {
            let result;

            try {
                // Reference error because 'x' is not defined
                result = x / 10;
            } catch (error) {
                handlerError(error);
            }
        }

        function rangeErrorSample() {
            let result = 0;

            try {
                // Range error because a number cannot have 200 significant digits
                result.toPrecision(200);
            } catch (error) {
                handlerError(error);
            }
        }

        function typeErrorSample() {
            let result = 0;

            try {
                // Type error because result is a numeric
                result.toUpperCase();
            } catch (error) {
                handlerError(error);
            }
        }

        function uriErrorSample() {
            let uri = "http://www.netic.com/patch%%%/file name";

            try {
                // URI error
                decodeURI(uri);
            } catch (error) {
                handlerError(error);
            }
        }

        function syntaxErrorSample() {
            let uri = "http://www.netic.com/patch%%%/file name";

            try {
                // Syntax error because missing a final single quote
                let sum = eval("alert('Hello)");
            } catch (error) {
                handlerError(error);
            }
        }

        function handlerError(error) {
            switch (error.name) {
                case 'ReferenceError':
                    console.log("Reference error: " + error.message);
                    break;
                case 'RangeError':
                    console.log("Range error: " + error.message);
                    break;    
                case 'TypeError':
                    console.log("Type error: " + error.message);
                    break;   
                case 'URIError':
                    console.log("URI error: " + error.message);
                    break;
                case 'SyntaxError':
                    console.log("Syntax error: " + error.message);
                    break;
                case 'EvalError':
                    console.log("Eval error: " + error.message);
                    break;
                default:
                    console.log("Error Type: " + error.name + " - Message: " + error.message);
                    break;
            }
        }
    </script>
</body>