<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>How to Determine JavaScript Variable Data Types</title>
</head>

<body>
    <button onclick="typeofSmaple();">Typeof Operator</button>
    <script>
        'use strict';

        let _products = [ // array of objects
            {
                "productID": 680,
                "name": "HL Road Frame - Black, 58",
                "productNumber": "FR-R92B-58",
                "color": "Black",
                "standardCost": 1059.31,
                "listPrice": 1431.50
            },
            {
                "productID": 707,
                "name": "Sports-100 Helmet, Red",
                "productNumber": "HL-U509-R",
                "color": "Red",
                "standardCost": 13.08,
                "listPrice": 34.99
            },
           {
                "productID": 709,
                "name": "Mountain Bike Socks, M",
                "productNumber": "SO-B909-M",
                "color": "White",
                "standardCost": 3.3963,
                "listPrice": 9.50
            }
        ];
        
        // Using the typeof operator for checking the type
        function typeofSample() {
            let product = _products[0];
            // Using the objects types not the primitives
            // Try to use primitives and avoid those objects
            let introDate = new Date();
            let strValue = new String();
            let isActive = false;
            let result;
            let value = null;

            console.log("_products = " + typeof _products);
            console.log("product = " + typeof product);
            console.log("product.productID = " + typeof product.productID);
            console.log("product.productNumber = " + typeof product.productNumber);
            console.log("introDate = " + typeof introDate); // Dates are objects
            console.log("strValue = " + typeof strValue); 
            console.log("isActive = " + typeof isActive);
            console.log("result = " + typeof result);
            console.log("value = " + typeof value);
            console.log("typeofSample() = " + typeof typeofSample);
        }
    </script>
    <button onclick="constructorSample();">Constructor Sample</button>
    <script>
        function constructorSample() {
            let product = _products[0];
            let introDate = new Date();
            let strValue = new String();
            let isActive = false;

            // A constructor property just returns a string,
            // will be nice if can return boolens to say isArray or isDate
            // it can be used for both objects and primitives
            console.log("_products = " + _products.constructor.toString());
            console.log("product = " + product.constructor.toString());
            console.log("product.productID = " + product.productID.constructor.toString());
            console.log("product.productNumber = " + product.productNumber.constructor.toString());
            console.log("introDate = " + introDate.constructor.toString()); // Dates are objects
            console.log("strValue = " + strValue.constructor.toString()); 
            console.log("isActive = " + isActive.constructor.toString()); // it cast from a primitive to a object
            console.log("constructorSample() = " + constructorSample.constructor.toString());
        }
    </script>

    <button onclick="helperFunctionsSample();">Helper Functions Sample</button>
    <script>
        function helperFunctionsSample() {
            let introDate = new Date();
            let result;
            let value = null;

            // Use helper functions that return true/false
            console.log("_products is Array? = " + isArray(_products));
            console.log("_introDate is Date? = " + isDate(introDate));

            // Be sure to check if something is null prior to using
            console.log("result = " + isNullOrUndeined(result) ? 'null/undefined' : 'not found');
            console.log("value = " + isNullOrUndeined(value) ? 'null/undefined' : 'not found');
        }

        // Those are the helper functions
        function isArray(value) {
            return value.constructor.toString().indexOf("Array") > -1;
        }

        function isDate(value) {
            return value.constructor.toString().indexOf("Date") > -1;
        }

        function isNullOrUndeined(value) {
            return value === null || value === undefined;
        }
    </script>

    <button onclick="instanceOfSample();">Helper Functions Sample</button>
    <script>
        // Check what type of object it specifically is
        function instanceOfSample() {
            // Objects are lower to access and takes a litle bit more memory
            let prod = new Product(680, "HL Road Frame - Black, 58", "FR-R92B-58");
            let dt = new Date();
            let name = new String("Product Name");
            let value = "A simple string"; // primitive, all above are objects

            console.log("prod instanceof Product = " + (prod instanceof Product).toString());
            console.log("prod instanceof Object = " + (prod instanceof Object).toString());
            console.log("dt instanceof Date = " + (dt instanceof Date).toString());
            console.log("dt instanceof Object = " + (dt instanceof Object).toString());
            console.log("name instanceof String = " + (name instanceof String).toString());
            console.log("value instanceof String = " + (value instanceof String).toString());
            console.log("value instanceof Object = " + (value instanceof Object).toString());
        }

        // Passing and setting few properties of a product
        function Product(id, name, number) {
            this.productID = id;
            this.name = name;
            this.productNumber = number;
            this.color = "Black";
            this.standardCost = 10;
            this.listPrice = 30;
        }
    </script>
</body>

