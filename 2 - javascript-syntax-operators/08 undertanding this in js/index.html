<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Undertanding 'this' in JavaScript</title>
</head>

<body>
    <button onclick="functionScope();">Function Scope</button>
    <script>
        // 'use strict';

        // Global scope - 'this' is mapped to global/window object
        console.log("Begin: global scope sample");
        console.log(this.toString());
        console.log("this === window = " + (this === window).toString());
        console.log("End: global scope sample");

        // Function scope - 'this' is mapped to global/window object
        // Uncomment 'use strict' above to show how it affects this function
        // If you want to get at the global windown object when 'use strict'
        // is in effect, use: console.log(window.toString());
        function functionScope() {
            console.log(this.toString());
            console.log("this === window = " + (this === window).toString());
        }
    </script>
    
    <button onclick="this.style.background='Red'">In Event Handler</button>
    <button onclick="eventHandler(this)">Pass to function from event Handler</button>
    <script>
        // 'This' on first buttom, in line js, refers to html element attached to the buttom
        'use strict';

        // Pass 'this' to function from event handler
        function eventHandler(ctl) {
            console.log(ctl.toString());
        }
    </script>

    <button onclick="objectLiteral()">Object Literal</button>
    <script>
        function objectLiteral() {
            let product = {
                "productID": 680,
                "name": "HL Road Frame - Black, 58",
                "productNumber": "FR-R92B-58",
                "color": "Black",
                "standardCost": 1059.31,
                "listPrice": 1431.50,
            grossProfit: function () {
                return (this.listPrice - this.standardCost).toLocaleString('en-US', {
                    style: 'currency', currency: 'USD'
                });
                
            }
        };  
        
        console.log(product.grossProfit());
        }
    </script>
</body>